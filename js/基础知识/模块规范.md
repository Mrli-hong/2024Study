# CommonJS
1. nodeJS模块规范，所有js文件都是一个模块，包括id，parent，children，暴露得值value，是否被加载loaded
2. CJS由于服务器端资源全在本地所以是同步的
3. AMD规范是非同步允许指定回调函数

# AMD规范
```javascript
define(['package/lib'],function(lib){
    function foo(){
        const res = lib.math(xxx)
    }
    return {
        foo:foo
    };
})
```
1. AMD模块允许输出得模块兼容CommonJS规范
```javascript
define(function(require,exports,module){
    const a = require('a')
    exports.result = function(){
        a.method()
    }
})
```
2. 输出得值是拷贝
3. require处理流程： 
   检查Module._cache中是否缓存
   缓存没有创建一个Module
   添加到缓存
   使用Module.load加载指定文件
   读取文件内容后使用Module.compile执行文件代码
   如果报错删除缓存
   返回模块得 module.
4. 模块导入导出功能得使用只能在http(s)中使用
5. 动态导入 import('./say.js') 可以在正常脚本中执行 type="module" 不是必须得